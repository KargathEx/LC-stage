[问题](https://leetcode.cn/contest/biweekly-contest-81/problems/number-of-distinct-roll-sequences/)  
一个看起来挺清楚的,from [Vibrant MayerHCt](https://leetcode.cn/contest/biweekly-contest-81/ranking/),明天有了题解再来整理，懒得猜代码。
  

```cpp

class Solution {
public:
  int distinctSequences(int n) {
#define ll long long
    const ll p = 1e9 + 7;
    vector<vector<ll>> f(7, vector<ll>(7, 0));
    f[0][0] = 1;
    for (int i = 1; i <= n; ++i) {
      vector<vector<ll>> g(7, vector<ll>(7, 0));
      for (int x = 0; x <= 6; ++x)
        for (int y = 0; y <= 6; ++y) {
          ll tmp = f[x][y] % p;
          if (tmp == 0)
            continue;
          for (int z = 1; z <= 6; ++z) {
            if (z == x || z == y)
              continue;
            if (y && gcd(z, y) > 1)
              continue;
            g[y][z] += tmp;
          }
        }
      swap(f, g);
    }
    ll ans = 0;
    for (int i = 0; i <= 6; ++i)
      for (int j = 0; j <= 6; ++j)
        ans += f[i][j];
    return ans % p;
  }
};

```
